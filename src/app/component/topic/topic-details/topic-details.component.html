<div *ngIf="topic" class="container-xl d-flex flex-column">
    <div class="d-flex flex-row">
        <button class="app-btn-image s48">
            <img [src]="'https://i.pinimg.com/originals/40/00/b7/4000b7b7caf046215794ccdef4a78630.png'"/>
        </button>
        <div class="d-flex ms-3 flex-column">
            <h1>Ala Kot{{topic.createdBy}}</h1>
            <h4>{{topic.createdDate | date }}</h4>
        </div>
    </div>

    <div class="mt-3">
        <h1>{{topic.name}}</h1>
        <h3>{{topic.content}}</h3>
    </div>

    <div class="mt-3">
        <div class="d-flex flex-row flex-wrap justify-content-start">
            <button *ngFor="let category of topic.categories" class="btn-category">{{category.name}}</button>
        </div>
    </div>

    <div class="mt-4">
        <div class="d-flex flex-row justify-content-between align-items-center">
            <div class="d-flex flex-row gap-3">
                <h1>{{topic.references?.length}} References</h1>
                <button (click)="toggleReferenceForm();" class="app-btn-icon s32">
                    <i class="bi bi-plus"></i>
                </button>
            </div>
            <topic-details-references-filter/>
        </div>
        <div *ngIf="referenceFormViable" class="d-flex flex-column mt-4">
            <div>    
                <h1>Add references</h1>
            </div>
            <reference-create-form [topicId] = "topic.id"/>
        </div>
        <div class="d-flex flex-column gap-1 mt-4">
            <reference-item *ngFor="let reference of topic.references?.filter(this.activeFilter)?.sort(this.activeSorter)" [reference]="reference"/>
        </div>
    </div>
</div>